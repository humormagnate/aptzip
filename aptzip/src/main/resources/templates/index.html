<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
  <head>
    <link rel="shortcut icon" href="/favicon/favicon.ico" />
    <div th:replace="fragments/header :: header" />
  </head>

  <body>
    <div th:replace="fragments/navbar" />
    <main id="tt-pageContent" class="tt-offset-small">
      <!-- container start -->
      <div class="container">
        <!-- Id<p th:text="${#authentication.principal.getId()}"></p>
			Email<p th:text="${#authentication.principal.getEmail()}"></p>
			autho<p th:text="${#authentication.principal.getAuthorities()}"></p>
			name<p th:text="${#authentication.principal.getUsername()}"></p>
			password<p th:text="${#authentication.principal.getPassword()}"></p> -->
        <!-- <br><br> -->
        <!-- <th:block th:with="auth=${#authentication.getPrincipal()}"> -->
        <!-- <span th:text="${auth}"></span> -->
        <!-- <p th:text="${auth ? auth.getAuthorities() : 'NULL'}">Email</p> -->
        <!-- </th:block> -->

        <!-- topic-list start -->
        <div class="tt-topic-list">
          <!-- list-header start -->
          <div class="tt-list-header">
            <div class="tt-col-topic">Topic</div>
            <div class="tt-col-category">Category</div>
            <div class="tt-col-value hide-mobile">Likes</div>
            <div class="tt-col-value hide-mobile">Replies</div>
            <div class="tt-col-value hide-mobile">Views</div>
            <div class="tt-col-value">Activity</div>
          </div>
          <!-- list-header end -->

          <div class="tt-topic-alert tt-alert-default" role="alert">
            <a href="#" target="_blank">[[${ #lists.size(list) }]] new posts</a>
            are added recently, click here to load them.
          </div>

          <!-- board-list start -->
          <th:block th:each="board, index : ${ list }">
            <th:block th:if="${ index.index } eq 4">
          		<div class="tt-topic-list" sec:authorize="isAnonymous()">
                <div class="tt-item tt-item-popup">
                  <div class="tt-col-avatar">
                    <svg class="tt-icon">
                      <use xlink:href="#icon-ava-f"></use>
                    </svg>
                  </div>
                  <div class="tt-col-message">
                    Looks like you are new here. Register for free, learn and contribute.
                  </div>
                  <div class="tt-col-btn">
                    <a th:href="@{/user/go/login}" class="btn btn-primary">Log in</a>
                    <a th:href="@{/user/go/signup}" class="btn btn-secondary">Sign up</a>
                    <button type="button" class="btn-icon" id="removePopup">
                      <svg class="tt-icon">
                        <use xlink:href="#icon-cancel"></use>
                      </svg>
                    </button></div>
                </div>
              </div>
          	</th:block>
            <div class="tt-item tt-itemselect" >
              <!-- <div>[[${ board.user }]]</div> -->
              <div class="tt-col-avatar">
                <svg class="tt-icon">
                  <use
                    th:attr="'xlink:href'='#icon-ava-' + ${ #strings.substring(board.user.getUsername(), 0, 1) }"
                  ></use>
                </svg>
              </div>
              <div class="tt-col-description">
                <h6 class="tt-title">
                  <a th:href="${'/board/' + board.id }">
                    <svg class="tt-icon">
                      <use xlink:href="#icon-pinned"></use>
                    </svg>
                    [[${ board.boardTitle }]]
                  </a>
                </h6>
                <div class="row align-items-center no-gutters">
                  <div class="col-11">
                    <ul class="tt-list-badge">
                      <li class="show-mobile">
                        <a href="#"
                          ><span class="tt-color01 tt-badge">politics</span></a
                        >
                      </li>
                      <li>
                        <a href="#"><span class="tt-badge">contests</span></a>
                      </li>
                      <li>
                        <a href="#"><span class="tt-badge">authors</span></a>
                      </li>
                    </ul>
                  </div>
                  <div class="col-1 ml-auto show-mobile">
                    <div class="tt-value">1h</div>
                  </div>
                </div>
              </div>
              <!-- 3항 연산자 단축 표현 -->
              <div class="tt-col-category">
                <span class="tt-color01 tt-badge"
                  >[[${ board.category } ?: ${ board.category }]]</span
                >
              </div>
              <div class="tt-col-value hide-mobile">0</div>
              <div class="tt-col-value tt-color-select hide-mobile">
                [[${ #lists.size(board.comments) }]]
              </div>
              <div class="tt-col-value hide-mobile">[[${ board.viewCount }]]</div>
              <div class="tt-col-value hide-mobile">
                [[${ #temporals.format(board.createDate, 'HH:mm') }]]
              </div>
            </div>
          </th:block>
          <!-- board-list end -->

          <!-- row-btn start -->
          <div class="tt-row-btn">
            <button type="button" class="btn-icon js-topiclist-showmore">
              <svg class="tt-icon">
                <use xlink:href="#icon-load_lore_icon"></use>
              </svg>
            </button>
          </div>
          <!-- row-btn end -->
        </div>
        <!-- topic-list end -->
      </div>
      <!-- container end -->
    </main>
    <div id="js-popup-settings" class="tt-popup-settings">
      <div class="tt-btn-col-close">
        <a href="#">
          <span class="tt-icon-title">
            <svg>
              <use xlink:href="#icon-settings_fill"></use>
            </svg>
          </span>
          <span class="tt-icon-text">
            Settings
          </span>
          <span class="tt-icon-close">
            <svg>
              <use xlink:href="#icon-cancel"></use>
            </svg>
          </span>
        </a>
      </div>
      <form class="form-default">
        <div class="tt-form-upload">
          <div class="row no-gutter">
            <div class="col-auto">
              <div class="tt-avatar">
                <svg>
                  <use xlink:href="#icon-ava-d"></use>
                </svg>
              </div>
            </div>
            <div class="col-auto ml-auto">
              <a href="#" class="btn btn-primary">Upload Picture</a>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="settingsUserName">Username</label>
          <input
            type="text"
            name="name"
            class="form-control"
            id="settingsUserName"
            placeholder="azyrusmax"
          />
        </div>
        <div class="form-group">
          <label for="settingsUserEmail">Email</label>
          <input
            type="text"
            name="name"
            class="form-control"
            id="settingsUserEmail"
            placeholder="Sample@sample.com"
          />
        </div>
        <div class="form-group">
          <label for="settingsUserPassword">Password</label>
          <input
            type="password"
            name="name"
            class="form-control"
            id="settingsUserPassword"
            placeholder="************"
          />
        </div>
        <div class="form-group">
          <label for="settingsUserLocation">Location</label>
          <input
            type="text"
            name="name"
            class="form-control"
            id="settingsUserLocation"
            placeholder="Slovakia"
          />
        </div>
        <div class="form-group">
          <label for="settingsUserWebsite">Website</label>
          <input
            type="text"
            name="name"
            class="form-control"
            id="settingsUserWebsite"
            placeholder="Sample.com"
          />
        </div>
        <div class="form-group">
          <label for="settingsUserAbout">About</label>
          <textarea
            name=""
            placeholder="Few words about you"
            class="form-control"
            id="settingsUserAbout"
          ></textarea>
        </div>
        <div class="form-group">
          <label for="settingsUserAbout">Notify me via Email</label>
          <div class="checkbox-group">
            <input type="checkbox" id="settingsCheckBox01" name="checkbox" />
            <label for="settingsCheckBox01">
              <span class="check"></span>
              <span class="box"></span>
              <span class="tt-text">When someone replies to my thread</span>
            </label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="settingsCheckBox02" name="checkbox" />
            <label for="settingsCheckBox02">
              <span class="check"></span>
              <span class="box"></span>
              <span class="tt-text">When someone likes my thread or reply</span>
            </label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="settingsCheckBox03" name="checkbox" />
            <label for="settingsCheckBox03">
              <span class="check"></span>
              <span class="box"></span>
              <span class="tt-text">When someone mentions me</span>
            </label>
          </div>
        </div>
        <div class="form-group">
          <a href="#" class="btn btn-secondary">Save</a>
        </div>
      </form>
    </div>
    <a href="/board/write" class="tt-btn-create-topic">
      <span class="tt-icon">
        <svg>
          <use xlink:href="#icon-create_new"></use>
        </svg>
      </span>
    </a>

		<div th:replace="fragments/modalAdvancedSearch" />
    <div th:replace="fragments/footer :: footer" />
    <script>
  		const REMOVE_POPUP_BTN = document.getElementById('removePopup');
  		REMOVE_POPUP_BTN.addEventListener('click', function(event){
        event.preventDefault();
        event.stopPropagation();
  			deletePopup(event);
  		}, false);
    </script>
  </body>
</html>
