<footer th:fragment="footer">
  <!-- bootstrap -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>

  <!-- Web Socket -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.3.0/sockjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
  
  <!-- query start -->
  <form id="query" th:action="@{/}" th:method="get">
    <th:block>
      <input type="hidden" th:name="page" th:value="${list ne null} ? ${list.currentPageNum} : ''">
      <input type="hidden" th:name="size" th:value="${list ne null} ? ${list.currentPage.pageSize} : 10">
      <input type="hidden" th:name="query" th:value="${pageVo ne null} ? ${pageVo.query} : ''">
    </th:block>
  </form>
  <!-- query end -->
  <script>
    /*
    window.onload = function() {
      const WS_URL = '[[@{/ws/comment}]]';
      // const STOMP_URL = '[[@{/ws/message}]]';
      // const STOMP_URL = '[[@{/ws/message}]]';
      if ('WebSocket' in window) {
        connectWS(WS_URL);
        // connectSockJS(SOCK_URL);
        // connectSTOMP(STOMP_URL);
      } else {
        alert('Not support websocket');
      }
    }

    window.onbeforeunload = function(){
      ws.close();
      // stomp.disconnect();
    }

    $(document).ready(function(){
      const $queryForm = $("#query");

      $(".pagination a").click(function(event){
        event.preventDefault();
        $queryForm.find("[name='page']").val($(this).attr("href"));
        $queryForm.submit();
      });

      $(".tt-search__btn").click(function(event){
        event.preventDefault();
        const $query = $("#search-query").val();

        $queryForm.find("[name='query']").val($query);
        $queryForm.find("[name='page']").val("1");
        $queryForm.submit();
      });

      const $advancedQuery = $("#advancedSearch");
      $("#advancedSearchSubmit").on("click", function(event){
        event.preventDefault();
        $advancedQuery.submit();
      });
    });
    */
  </script>
</footer>
